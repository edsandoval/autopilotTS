<div align="center">

<img src="./docs/logo.svg" alt="AutopilotTS Logo" width="200"/>

# AutopilotTS

**Let GitHub Copilot resolve tickets while you do other things**

[![TypeScript](https://img.shields.io/badge/TypeScript-5.3-blue.svg)](https://www.typescriptlang.org/)
[![Node.js](https://img.shields.io/badge/Node.js-20+-green.svg)](https://nodejs.org/)
[![GitHub Copilot](https://img.shields.io/badge/GitHub-Copilot-purple.svg)](https://github.com/features/copilot)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

</div>

---

## Disclaimer

**This is a hobby/personal project, basically a proof of concept.** I made it to experiment with GitHub Copilot CLI and SDK. Use it at your own risk. There are no guarantees it will work perfectly (or work at all). The code may have bugs, design decisions may be questionable, and documentation may be incomplete.

**TL;DR:** It's an experiment. Have fun, but don't use it in production without reviewing it thoroughly.

---

## Table of Contents

- [What is this?](#what-is-this)
- [Main objective](#main-objective)
- [How it works](#how-it-works)
- [Installation](#installation)
- [Quick start](#quick-start)
- [Commands](#commands)
- [Configuration](#configuration)
- [Development](#development)
- [License](#license)

---

## What is this?

AutopilotTS is a **desktop application** built with Electron that uses **GitHub Copilot CLI** and **GitHub Copilot SDK** to automatically resolve development tickets while you focus on other things.

<div align="center">
  <img src="./docs/dashboard.png" alt="AutopilotTS Dashboard" width="800"/>
  <p><i>Main dashboard view with tickets</i></p>
</div>

The idea came from: *"What if I could give Copilot a list of tasks and have it resolve them while I keep coding more important things?"*

### Key technologies:

- **Electron**: Cross-platform desktop application framework
- **GitHub Copilot CLI** (`gh copilot`): Main engine that automatically resolves tickets
- **GitHub Copilot SDK** (`@github/copilot-sdk`): For other activities:
  - Generate commit messages based on applied changes
  - Get list of available models
  - Code analysis and documentation
- **Git Worktrees**: Total isolation - each ticket is resolved in its own branch
- **TypeScript**: Type-safe development

---

## Main objective

**The ideal workflow is this:**

1. **You create a list of tickets** with tasks you want AI to try to resolve
2. **AutopilotTS starts resolving them** one by one, using **GitHub Copilot CLI** for resolution
3. **While AI works, you keep coding** other things on your main branch
4. **When it finishes, you review branch by branch** what AI did
5. **Fix what's wrong, leverage what's right**
6. **Result:** Minimize time wasted waiting for AI, maximize your productivity

<div align="center">
  <img src="./docs/terminal.png" alt="AutopilotTS Terminal" width="800"/>
  <p><i>Integrated terminal view in Web UI showing resolution process</i></p>
</div>

### The philosophy behind it

AI isn't perfect. It makes mistakes. But it can also do 60-80% of tedious work (refactorings, repetitive changes, basic implementations, etc.).

Instead of sitting around waiting for Copilot to generate code line by line, it's better to:
- Give it a list of tasks
- Go do other things
- Come back and review what it did
- Fix, improve, and done

**It's like having a junior dev making PRs for you to review.** Sometimes they're perfect, sometimes they need changes, but they always save time.

---

## How it works

### The workflow

```
1. Create tickets with tasks/bugs/features
       â†“
2. AutopilotTS creates an isolated git worktree for each ticket
       â†“
3. Calls GitHub Copilot CLI to resolve the ticket
       â†“
4. AI generates code, modifies files, etc.
       â†“
5. AutopilotTS auto-commits with message generated by Copilot SDK
       â†“
6. Generates HTML summary with all changes
       â†“
7. YOU review the branch, test, fix if needed
       â†“
8. Merge or discard based on results
```

### Main components

- **GitHub Copilot CLI** (`gh copilot`): Does the heavy lifting of **resolving tickets**
- **GitHub Copilot SDK** (`@github/copilot-sdk`): For auxiliary tasks:
  - Automatically generate commit messages based on changes
  - Get list of available AI models
  - Code analysis and documentation
- **Git Worktrees**: Each ticket resolves in an isolated worktree (separate branch)
- **Storage**: Saves tickets in `~/.autopilot/tickets.json`
- **Electron Desktop App**: Modern cross-platform desktop interface with real-time updates

### Why worktrees?

Because you can have multiple tickets being resolved in parallel without interfering with each other, and without affecting your current working branch. Each one in its own bubble.

---

## What it does

- Create, list, view, delete, update tickets
- **GitHub Copilot CLI** for automatic ticket resolution
- **GitHub Copilot SDK** for:
  - Automatic commit message generation
  - Dynamic listing of available AI models
  - Code and change analysis
- Git worktrees for total isolation (safe concurrency)
- Detailed HTML summaries with diffs of all changes
- **Desktop Application** with:
  - Native window experience
  - Ticket dashboard
  - Real-time logs
  - Integrated terminal
  - Visual configuration
- Per-project configuration
- Debug mode to see internal process

---

## Architecture (simplified)

```
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Electron Desktop   â”‚
         â”‚   Application       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ TicketResolverCLI   â”‚  â† Orchestrates everything
         â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”˜
           â”‚        â”‚        â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”
    â”‚ GitHub  â”‚ â”‚ Git   â”‚ â”‚Storage â”‚
    â”‚ Copilot â”‚ â”‚ Mgr   â”‚ â”‚  JSON  â”‚
    â”‚ CLI/SDK â”‚ â”‚Worktreeâ”‚ â”‚        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**TicketResolverCLI** is the main component:
1. Reads the ticket
2. Creates a worktree/branch
3. Calls GitHub Copilot CLI with ticket context
4. Lets AI work
5. Commits the changes
6. Generates HTML summary
7. Ready for you to review

---

## Installation

### Prerequisites

The only requirements are:

1. **GitHub Copilot subscription** (paid or trial)
2. **GitHub Copilot CLI** installed in your terminal
   
   **Important:** We're referring to the [GitHub Copilot CLI](https://github.com/github/copilot-cli) (`@github/copilot` npm package), not the older `gh copilot` extension.
   
   ```bash
   npm install -g @github/copilot
   ```

That's it. The project will handle the rest.

### Install from source

```bash
# Clone the repo
git clone https://github.com/yourusername/autopilotTS.git
cd autopilotTS

# Install dependencies
npm install

# Build
npm run build

# (Optional) Global link to use 'autopilot' from anywhere
npm link
```

---

## Quick start

### 1. Launch the Application

```bash
# Start the desktop application
npm start

# Or in development mode
npm run dev
```

The application window will open automatically with the ticket dashboard.

### 2. Configure your project

1. Click the **âš™ï¸ Config** button in the top-right corner
2. Configure the following settings:
   - **Base Repository Path**: Path to your main project repository
   - **Automation Path**: Folder where worktrees will be created
   - **Base Branch**: Default branch (e.g., `develop` or `main`)
   - **Copilot Model**: Select your preferred AI model
   - **Debug Mode**: Enable for verbose logging

<div align="center">
  <img src="./docs/config.png" alt="AutopilotTS Configuration" width="800"/>
  <p><i>Configuration window in Desktop App</i></p>
</div>

### 3. Create tickets

1. Click **â• New Ticket** button
2. Enter ticket name and description
3. Click **Create Ticket**

Your tickets will appear in the main dashboard.

### 4. Let Copilot resolve them

1. Click the **Start** button on a ticket
2. Watch real-time logs in the integrated terminal
3. **GitHub Copilot CLI** will analyze and resolve the ticket
4. Meanwhile, you can keep coding on your main branch

### 5. Review changes

Once it finishes, AutopilotTS will have left you:
- A new branch with changes (in the worktree)
- Automatic commits with messages generated by **GitHub Copilot SDK**
- An HTML summary with all changes (diffs included)

**Now it's your turn:**
```bash
# Go to the worktree folder
cd /path/automation/folder/TICKET-001

# Review the code
git log
git diff develop

# Test that it works
npm test

# If it's good, merge
git checkout develop
git merge test/TICKET-001

# If it's bad, fix or discard
git reset --hard
```

**The key:** 
- **GitHub Copilot CLI** does the heavy lifting of resolving the ticket
- **GitHub Copilot SDK** generates the commit message describing changes
- You review and polish
- Save time, but keep control

---

## Commands

### Web UI (Recommended)

The most comfortable way to use AutopilotTS:

```bash
autopilot ui 3000
# Open http://localhost:3000
```

**Web UI features:**
- Visual dashboard with all tickets
- Integrated terminal with real-time logs (WebSocket)
- Visual configuration (paths, AI model, debug mode)
- Complete ticket management without commands
- REST API for integrations

## Commands

### Desktop Application Interface

The desktop application provides a user-friendly graphical interface to manage all ticket operations:

**Main Features:**
- ğŸ“Š **Dashboard**: View all tickets with their current status
- â• **New Ticket**: Create tickets with detailed descriptions
- â–¶ï¸ **Start/Stop**: Control ticket resolution
- âš™ï¸ **Configuration**: Manage all settings visually
- ğŸ“º **Terminal**: Real-time logs and output
- ğŸ—‘ï¸ **Delete**: Remove completed or unwanted tickets

### Build Commands

```bash
# Development
npm run dev              # Run with hot reload
npm run watch            # Watch mode for TypeScript

# Build
npm run build            # Compile TypeScript

# Production
npm start                # Run the desktop app

# Distribution
npm run pack             # Package app (no installer)
npm run dist             # Create distributable installers
```

---

## Configuration

Configuration is stored in `~/.autopilot/.autopilot.config.json`.

### Main options

| Key | What it is | Default |
|-----|------------|---------|
| `baseRepositoryPath` | Path to your main repo | `null` |
| `autopilotFolderPath` | Where to create worktrees | `null` |
| `copilotModel` | AI model to use | `gpt-4o` |
| `debug` | Verbose logs | `false` |
| `baseBranch` | Base branch for creating branches | `main` |

### Available models

AutopilotTS uses **GitHub Copilot SDK** to dynamically get the list of available models based on your account:
- `gpt-4o` - Recommended (balance speed/quality)
- `gpt-5` - If you have access (more advanced)
- `claude-sonnet-4` - Claude Sonnet 4 (excellent for analysis)
- `gpt-4` - Classic GPT-4 (reliable)
- `gpt-3.5-turbo` - Fast but less accurate

**Note:** The model list is automatically obtained from GitHub Copilot, so you'll only see the ones available in your account.

### Example configuration

```json
{
  "baseRepositoryPath": "/home/user/my-project",
  "autopilotFolderPath": "/home/user/autopilot-workspace",
  "copilotModel": "gpt-4o",
  "debug": false,
  "baseBranch": "develop"
}
```

---

## Usage examples

### Example 1: Typical workflow (Desktop App)

```bash
# Launch the desktop application
$ npm start

# In the application window:
# 1. Create several tickets from dashboard
# 2. Click "Start" on first ticket
# 3. Watch in real-time how GitHub Copilot CLI resolves it
# 4. Meanwhile, keep coding in your editor

# When it finishes:
# 1. Go to worktree in your terminal
$ cd /autopilot-workspace/TICKET-001
$ git log  # See commit generated by Copilot SDK
$ git diff develop
$ npm test
# 2. If it's good, merge. If not, fix or discard.
```

### Example 2: Debug mode

Useful when something doesn't work as expected:

1. Open the desktop app
2. Click **âš™ï¸ Config**
3. Enable **Debug Mode** checkbox
4. Click **Save Config**
5. Start a ticket and watch verbose logs in the terminal

The integrated terminal will show detailed information:
```
[DEBUG] Creating worktree at: /path/workspace
[DEBUG] Git command: git worktree add ...
[DEBUG] Calling GitHub Copilot CLI...
[DEBUG] Prompt sent: "Refactor calculateTotal() function..."
[DEBUG] AI response: [...]
[DEBUG] Writing file: src/utils/calculator.ts
[DEBUG] Commit: "refactor: optimize calculateTotal function"
âœ“ Complete!
```

### Example 3: Dynamic model selection

The desktop app automatically shows models available in your account (thanks to GitHub Copilot SDK):

1. Open **âš™ï¸ Config**
2. Click **ğŸ”„ Refresh** next to the model dropdown
3. Select your preferred model:
   - `gpt-4o` (default)
   - `claude-sonnet-4` (if you have it)
   - `gpt-5` (if you have access)
4. Click **Save Config**

The next ticket will use your selected model.

---

## Development

If you want to modify or extend the project:

```bash
# Clone repo
git clone https://github.com/yourusername/autopilotTS.git
cd autopilotTS

# Install deps
npm install

# Development (without compiling)
npm run dev

# Or build and run
npm run build
npm start
```

### Available scripts

```bash
npm run dev          # Run with tsx (hot reload)
npm run build        # Compile TypeScript to dist/
npm run watch        # Watch mode (recompiles on save)
npm start            # Run compiled version
npm test             # Unit tests (Vitest)
npm run test:watch   # Tests in watch mode
```

### Project structure

```
src/
â”œâ”€â”€ index.ts                  # CLI entry point
â”œâ”€â”€ agents/                   # TicketResolverCLI (orchestrator)
â”œâ”€â”€ commands/                 # CLI command handlers
â”œâ”€â”€ utils/                    # Utilities
â”‚   â”œâ”€â”€ copilot.ts           # GitHub Copilot SDK
â”‚   â”œâ”€â”€ copilot-cli.ts       # GitHub Copilot CLI wrapper
â”‚   â”œâ”€â”€ git.ts               # Git operations
â”‚   â”œâ”€â”€ storage.ts           # Ticket persistence
â”‚   â””â”€â”€ config.ts            # Config management
â”œâ”€â”€ web/                      # Web UI + REST API
â””â”€â”€ tests/                    # Unit tests
```

---

## Tests

There are unit tests with Vitest:

```bash
npm test                # Run all tests
npm run test:watch      # Watch mode
```

Coverage: storage, config, prompts, types, workflows.

---

## FAQ / Common issues

### "AI doesn't do what I want"
- Be more specific in ticket description
- Enable debug mode to see what prompt is being sent
- Consider using another AI model
- Remember: AI is good, but not perfect

### "Worktrees get stuck"
- Use the **Stop** button in the desktop app
- If that doesn't work, delete manually: `git worktree remove /path/worktree`

### "Can I resolve multiple tickets in parallel?"
- Technically yes (each in its worktree)
- In practice, depends on your hardware and how long Copilot CLI takes
- I recommend going one by one to avoid saturation

### "Does this replace a programmer?"
- No. Read the disclaimer above.
- It's a tool to save time on repetitive tasks
- YOU are still the one who reviews, fixes, and decides

### "How do I distribute the app?"
- Run `npm run dist` to create installers for your platform
- Installers will be in the `release/` directory
- Supports Windows (NSIS), macOS (DMG), and Linux (AppImage)

---

## License

MIT - Do whatever you want with the code. No warranties.

---

## Credits

- **GitHub Copilot CLI & SDK** - The engine behind all this
- **Electron** - Cross-platform desktop framework
- **Simple-Git** - Git operations
- **TypeScript** - Type-safe development

---

## Final notes

This project was born as a personal experiment to see how well I could automate development tasks with GitHub Copilot. It's not perfect, has bugs, and there are probably better ways to do this.

But it works well enough to save me time in my day-to-day. If it helps you, great. If not, that's fine too.

**Ideas? Improvements? Bugs?** Open an issue or PR. Or don't. Your choice.

---

**TL;DR:** Desktop app that uses GitHub Copilot to resolve tickets while you do other things. Always review what AI does. Profit.

---

[Back to top](#autopilotts)
